<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">  

    <h:head>  
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>Forum :: Topic</title>

        <!-- Bootstrap -->
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/bootstrap.min.css" rel="stylesheet"/>

        <!-- Custom -->
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/custom.css" rel="stylesheet"/>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
          <![endif]-->

        <!-- fonts -->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" href="font-awesome-4.0.3/css/font-awesome.min.css"/>

        <!-- CSS STYLE-->
        <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/resources/css/style.css" media="screen" />

        <!-- SLIDER REVOLUTION 4.x CSS SETTINGS -->
        <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/resources/rs-plugin/css/settings.css" media="screen" />
        <style type="text/css">
            .datalist-noborder .ui-widget-content {
                border: none;
                border-style: none;
                background: none ;
            }
            .ui-outputlabel{

            } 
            .ui-widget{

            }
        </style>
    </h:head>  
    <h:body styleClass="topic">

        <div class="container-fluid">

           

            <div class="headernav">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-1 col-xs-3 col-sm-2 col-md-2 logo "><a href="#{facesContext.externalContext.requestContextPath}/xhtml/index.jsf"><img src="#{facesContext.externalContext.requestContextPath}/resources/images/logo.jpg" alt=""  /></a></div>
                        
                        <div class="col-lg-4 search hidden-xs hidden-sm col-md-3">
                            <div class="wrap">
                                <form action="#" method="post" class="form">
                                    <div class="pull-left txt"><input type="text" class="form-control" placeholder="Rechercher"/></div>
                                    <div class="pull-right"><button class="btn btn-default" type="button"><i class="fa fa-search"></i></button></div>
                                    <div class="clearfix"></div>
                                </form>
                            </div>
                        </div>
                        <div class="col-lg-4 col-xs-12 col-sm-5 col-md-4 avt">
                            <div class="stnt pull-left">                            
                                <form action="publication.jsf" method="post" class="form">
                                    <a href="#{facesContext.externalContext.requestContextPath}/xhtml/Forum.jsf">Publications </a>
                                </form>
                            </div>
                            <div class="env pull-left"><i class="fa fa-envelope"></i></div>

                            
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>


            <section class="content">
           


                <div class="container">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="pull-left"><a href="#" class="prevnext"><i class="fa fa-angle-left"></i></a></div>
                      
                            <div class="pull-left"><a href="#" class="prevnext last"><i class="fa fa-angle-right"></i></a></div>
                            <div class="clearfix"></div>                        
                        </div>
                    </div>
                </div>




                <div class="container" id="v1">
                    <div class="row" id="v2">



                        <div class="col-lg-8 col-md-8" id="v3">
                            <!-- POST -->
                            <div class="post beforepagination">
                                <div class="topwrap">
                                    <div class="userinfo pull-left">
                                        <div class="avatar">
                                            <img src="#{facesContext.externalContext.requestContextPath}/resources/images/avatar.jpg" alt="" />
                                            <div class="status green"><h:outputText value="&#160;" /></div>
                                        </div>

                                        <div class="icons">
                                            <img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon1.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon4.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon5.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon6.jpg" alt="" />
                                        </div>
                                    </div>
                                    <div class="posttext pull-left">

                                        <h2><p:outputLabel value="#{PubcommentBean.filDiscussion.subject}"/></h2>
                                      <p><p:outputLabel value="#{PubcommentBean.filDiscussion.contents}"/></p>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>                              
                                <div class="postinfobot">

                                    <div class="likeblock pull-left">
                                        <a href="#" class="up"><i class="fa fa-thumbs-o-up"></i>25</a>
                                        <a href="#" class="down"><i class="fa fa-thumbs-o-down"></i>3</a>
                                    </div>

                                    <div class="prev pull-left">                                        
                                        <a href="#"><i class="fa fa-reply"></i></a>
                                    </div>

                                    <div class="posted pull-left"><i class="fa fa-clock-o"></i>  Publier le: <p:outputLabel value="#{PubcommentBean.dateToString( PubcommentBean.filDiscussion.dateDiscussion)}"/></div>

                                    <div class="next pull-right">                                        
                                        <a href="#"><i class="fa fa-share"></i></a>

                                        <a href="#"><i class="fa fa-flag"></i></a>
                                    </div>

                                    <div class="clearfix"></div>
                                </div>
                            </div><!-- POST -->


                            <!-- Fin POSTs -->
                            
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="pull-left"><a href="#" class="prevnext"><i class="fa fa-angle-left"></i></a></div>
                      
                            <div class="pull-left"><a href="#" class="prevnext last"><i class="fa fa-angle-right"></i></a></div>
                            <div class="clearfix"></div>                        
                        </div>
                    </div>
                </div>
                         
                            <!--Commentaires publication-->       

                            <h:form id="commentaireForm" method="post" > 
                                <c:forEach var="comment1" value="#{PubcommentBean.comments}" items="#{PubcommentBean.comments}"  >                 
                                    <!-- POST -->
                                    <div class="post">
                                        <div class="topwrap">
                                            <div class="userinfo pull-left">
                                                <div class="avatar">
                                                    <img src="#{facesContext.externalContext.requestContextPath}/resources/images/avatar2.jpg" alt="" />
                                                    <div class="status red"><h:outputText value="&#160;" /></div>
                                                </div>

                                              
                                            </div>
                                            <div class="posttext pull-left">
                                             <h4> <h:outputLabel value="#{comment1.contents}"></h:outputLabel></h4> 
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>                              
                                        <div class="postinfobot">

                                        

                                       

                                            <div class="posted pull-left"><i class="fa fa-clock-o"></i>  Publier le: <p:outputLabel value="#{PubcommentBean.dateToString(comment1.dateComment)}"/></div>


                                            <div class="clearfix"></div>
                                        </div>
                                    </div><!-- POST -->

                                </c:forEach>


                            </h:form>

                            <!--Ajouter POST -->
                            <div class="post">
                                 <h:form id="ajouterCommentForm"  class="form" method="post" >
                                    <div class="topwrap">
                                        <div class="userinfo pull-left">
                                            <div class="avatar">
                                                <img src="#{facesContext.externalContext.requestContextPath}/resources/images/avatar4.jpg" alt="" />
                                                <div class="status red"><h:outputText value="&#160;" /></div>
                                            </div>

                                            <div class="icons">
                                                <img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon3.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon4.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon5.jpg" alt="" /><img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon6.jpg" alt="" />
                                            </div>
                                        </div>
                                        <div class="posttext pull-left">
                                            <div class="textwraper">
                                                <div class="postreply">Ajouter un commentaire</div>
                                                <p:inputTextarea id="reply" placeholder="Tapez votre message ici" autoResize="false" value="#{PubcommentBean.commentaire.contents}" />

                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>                              
                                    <div class="postinfobot">

                                        <div class="notechbox pull-left">
                                            <input type="checkbox" name="note" id="note" class="form-control" />
                                        </div>

                                        <div class="pull-left">
                                            <label for="note"> Email me when some one post a reply</label>
                                        </div>

                                        <div class="pull-right postreply">
                                            <div class="pull-left smile"><a href="#"><i class="fa fa-smile-o"></i></a></div>
                                            <div class="pull-left">
                                         <p:commandButton value="Ajouter"  actionListener="#{PubcommentBean.onPostCommentPers()}"
                                                                 id="btn" styleClass="btn btn-primary"  update=":commentaireForm,ajouterCommentForm">
                                                    <h:inputHidden value="#{PubcommentBean.idFD}" />
                                                <!--   <f:ajax render="@form"/> --> 
                                                </p:commandButton> 
                              
                                                
                                                
                                                         
                             
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>


                                        <div class="clearfix"></div>
                                    </div>
                                </h:form>
                            </div><!--F Ajouter POST -->




                        </div>


                        <div class="col-lg-4 col-md-4">

                            <!-- -->
                            <div class="sidebarblock">
                                <h3>Categories</h3>
                                <div class="divline"></div>
                                <div class="blocktxt">
                                    <ul class="cats">




                                        <h:form id="categorieForm"> 

                                            <div class="datalist-noborder">
                                                <p:dataList  id="lista" var="categorie1" 
                                                             value="#{PubcommentBean.categories}"   
                                                             emptyMessage="aucune catÃ©gorie trouver" 


                                                             > 

                                                    <li><a href="jobs.jsf?idCat=#{categorie1.idOffer}"><h:outputText value="#{categorie1.title}" />  
                                                            <span class="badge pull-right">
                                                                <h:outputText value="#{PubcommentBean.sizeOfList(categorie1.filDiscussions)}" />
                                                                <h:outputText value="0" rendered="#{empty categorie1.filDiscussions}" />
                                                            </span>
                                                        </a></li>

                                                </p:dataList> 
                                            </div>



                                        </h:form>

                                    </ul>
                                </div>
                            </div>

                            <!-- -->
                            

                            <!-- -->
                            


                        </div>

                    </div>
                </div>

            </section>





            <footer>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-1 col-xs-3 col-sm-2 logo "><a href="#"><img src="images/logo.jpg" alt=""  /></a></div>
                        <div class="col-lg-8 col-xs-9 col-sm-5 ">Copyrights 2014, websitename.com</div>
                        <div class="col-lg-3 col-xs-12 col-sm-5 sociconcent">
                            <ul class="socialicons">
                                <li><a href="#"><i class="fa fa-facebook-square"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                <li><a href="#"><i class="fa fa-dribbble"></i></a></li>
                                <li><a href="#"><i class="fa fa-cloud"></i></a></li>
                                <li><a href="#"><i class="fa fa-rss"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>


        </div>

        <!-- get jQuery from the google apis -->
        <script type="text/javascript" src="facesContext.externalContext.requestContextPath}/resources/jquery/jquery.js"></script>

        <!-- SLIDER REVOLUTION 4.x SCRIPTS  -->
        <script type="text/javascript" src="facesContext.externalContext.requestContextPath}/resources/rs-plugin/js/jquery.themepunch.plugins.min.js"></script>
        <script type="text/javascript" src="facesContext.externalContext.requestContextPath}/resources/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="facesContext.externalContext.requestContextPath}/resources/js/bootstrap.min.js"></script>

        <!-- LOOK THE DOCUMENTATION FOR MORE INFORMATIONS -->
        <script type="text/javascript">

            var revapi;

            jQuery(document).ready(function() {
                "use strict";
                revapi = jQuery('.tp-banner').revolution(
                        {
                            delay: 15000,
                            startwidth: 1200,
                            startheight: 278,
                            hideThumbs: 10,
                            fullWidth: "on"
                        });

            });	//ready

        </script>

        <!-- END REVOLUTION SLIDER -->
    </h:body>


</html>